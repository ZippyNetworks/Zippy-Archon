{
  "workflow_id": "plugin_development_workflow",
  "name": "Plugin Development and Deployment Workflow",
  "description": "A comprehensive workflow for developing, testing, and deploying plugins with ZippyTrust verification",
  "version": "1.0.0",
  "agents": [
    "code_analyzer",
    "security_checker", 
    "test_runner",
    "deployment_manager"
  ],
  "steps": [
    {
      "step_id": "code_analysis",
      "name": "Code Quality Analysis",
      "agent": "code_analyzer",
      "action": "analyze_code",
      "description": "Analyze plugin code for quality metrics",
      "parameters": {
        "metrics": ["complexity", "documentation", "type_hints", "error_handling"]
      }
    },
    {
      "step_id": "security_verification",
      "name": "Security Verification",
      "agent": "security_checker", 
      "action": "verify_plugin",
      "description": "Verify plugin security and trust score",
      "parameters": {
        "security_checks": ["dangerous_functions", "hardcoded_secrets", "network_access", "file_access"]
      }
    },
    {
      "step_id": "testing",
      "name": "Plugin Testing",
      "agent": "test_runner",
      "action": "test_plugin",
      "description": "Run comprehensive tests on the plugin",
      "parameters": {
        "test_data": {
          "text": "Sample text for testing",
          "numbers": [1, 2, 3, 4, 5],
          "nested": {"key": "value"}
        },
        "test_cases": ["basic_functionality", "error_handling", "edge_cases"]
      }
    },
    {
      "step_id": "marketplace_deployment",
      "name": "Marketplace Deployment",
      "agent": "deployment_manager",
      "action": "deploy_plugin",
      "description": "Deploy plugin to ZippyCoin marketplace",
      "parameters": {
        "price": 10.0,
        "auto_verify": true,
        "publish_immediately": false
      }
    }
  ],
  "input_data": {
    "plugin_path": "./plugins/my_plugin.py",
    "wallet_address": "zippy_wallet_123456789",
    "author": "trusted_developer",
    "tags": ["utility", "demo", "trusted"]
  },
  "output_schema": {
    "code_analysis": {
      "complexity_score": "float",
      "documentation_score": "float", 
      "type_hints_score": "float",
      "error_handling_score": "float"
    },
    "security_verification": {
      "trust_score": "float",
      "verification_status": "string",
      "security_issues": "array"
    },
    "testing": {
      "test_results": "object",
      "execution_time": "float",
      "success_rate": "float"
    },
    "deployment": {
      "success": "boolean",
      "plugin_id": "string",
      "marketplace_url": "string"
    }
  },
  "error_handling": {
    "retry_attempts": 3,
    "retry_delay": 5,
    "fail_fast": false,
    "rollback_on_failure": true
  },
  "notifications": {
    "email": "developer@example.com",
    "webhook_url": "https://api.example.com/webhooks/workflow",
    "slack_channel": "#plugin-deployments"
  }
}
